<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="utf-8" />
    <title>Bellotto neu interpretiert</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="./assets/style.css" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/fav/favicon_skd_16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/fav/favicon_skd_32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/assets/img/fav/favicon_skd_48.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/img/fav/favicon_skd_192.png">
    <link rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/img/fav/favicon_skd_167.png">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/img/fav/favicon_skd_180.png">
</head>

<body>
    <!-- <header>
        <h1>Bellotto neu interpretiert - Kreuzkirche</h1>
    </header> -->

    <!-- Swiper -->
    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class="image-container">
                    <img src="./assets/img/zerstoerung.png">
                    <div class="image-overlay">
                        <div class="overlay-content">
                            <h3 class="prototype-title">Zerst√∂rung & Geschichte</h3>
                            <p class="prototype-description">Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
                                sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
                                voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
                                gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit
                                amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
                                dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo
                                dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum
                                dolor sit amet.</p>
                            <a href="/" class="prototype-button">Zum Prototypen</a>
                            <button class="close-overlay">x</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="image-container">
                    <img src="./assets/img/kunstepochen.png">
                    <div class="image-overlay">
                        <div class="overlay-content">
                            <h3 class="prototype-title">Kunstepochen & -stile</h3>
                            <p class="prototype-description">Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
                                sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
                                voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
                                gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit
                                amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
                                dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo
                                dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum
                                dolor sit amet.</p>
                            <a href="/" class="prototype-button">Zum Prototypen</a>
                            <button class="close-overlay">x</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="image-container">
                    <img src="./assets/img/fragile_welten.png">
                    <div class="image-overlay">
                        <div class="overlay-content">
                            <h3 class="prototype-title">Fragile Welten</h3>
                            <p class="prototype-description">Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
                                sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
                                voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
                                gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit
                                amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
                                dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo
                                dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum
                                dolor sit amet.</p>
                            <a href="fragility.html" class="prototype-button">Zum Prototypen</a>
                            <button class="close-overlay">x</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <script>

        var swiper = new Swiper(".mySwiper", {

            slidesPerView: "auto",
            centeredSlides: true,
            spaceBetween: 50,
            loop: true,

            observer: true,
            observeParents: true,
            observeSlideChildren: true,

            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },

            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },

            on: {
                init: function () {
                    // Force initial positioning
                    this.slideTo(1, 0); // Immediately jump to cloned slide
                }
            }

        });

        // Add click event to each slide
        swiper.slides.forEach((slide) => {
            slide.addEventListener("click", (e) => {
                // Prevent click event if dragging
                if (swiper.dragging) return;

                // Find the closest slide element from clicked target
                const slide = e.target.closest(".swiper-slide");
                if (!slide) return;

                // Find the image container within the slide
                const imageContainer = slide.querySelector(".image-container");
                if (!imageContainer) return;

                // Check if the image container was already active
                const wasActive = imageContainer.classList.contains("active");

                // Remove active class from all image containers
                document.querySelectorAll(".image-container").forEach(container => {
                    container.classList.remove("active");
                })

                // Add active class to the clicked image container if it wasn't already active
                if (!wasActive) {
                    imageContainer.classList.add("active");
                }

                console.log(document.querySelectorAll(".image-container.active"));
            });
        })

        // Close overlay when clicking close button
        document.addEventListener('click', (e) => {
            if (e.target.closest('.close-overlay')) {
                // Find the parent image container and remove the active class
                e.target.closest('.image-container').classList.remove('active');
            }
        });

        // Debug code (remove after testing)
        setTimeout(() => {
            console.log('Slides:', swiper.slides.map(slide => slide.className));
            console.log('Wrapper transform:', swiper.wrapperEl.style.transform);
        }, 1000);

    </script>
</body>

</html>